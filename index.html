<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <title>Kira Platypus</title>
        <link href="https://fonts.googleapis.com/css2?family=Abel&display=swap" rel="stylesheet">
        <link href="css/site.css" rel="stylesheet">
    </head>
    <body onload="init_main('worlds/platypus0.json', true)">
        <h1>Kira Platypus</h1>
        <div class='parent'>
            <div class='child' id='left-panel'>
                <button id='docsButton' onclick='showDocs(true)' style='font-size: 20px'>Show Commands</button>
                <div id='documentation' hidden>
                    <p>
                    <b>Basic Commands:</b><br>
                    <code class="b">turn_right()</code>: turns the platypus to the right from the directon it is facing (clockwise).<br>
                    <code class="b">turn_left()</code>: turns the platypus to the left from the direction it is facing (counterclockwise).<br>
                    <code class="b">swim()</code>: swims the platypus in the direction it is facing. The front must be water, not land or out of bounds.<br>
                    <code class="b">pick_up(object)</code>: picks up the object (<code>'crab'</code> or <code>'egg'</code>). There must be at least one of that object on that grid space.<br>
                    <code class="b">put_down(object)</code>: puts down the object (<code>'crab'</code> or <code>'egg'</code>). The platypus must have at least one of that object.<br>
<br>
                    <b>Conditions:</b><br>
                    <code class="b">front_is_water()</code>: boolean, <code>True</code> if the front is water, <code>False</code> if the front is land or out of bounds. <br>
                    <code class="b">left_is_water()</code>: boolean, <code>True</code> if the square to the left of the direction the platypus is facing is water, <code>False</code> if the left is land or out of bounds. <br>
                    <code class="b">right_is_water()</code>: boolean, <code>True</code> if the square to the right of the direction the platypus is facing is water, <code>False</code> if the right is land or out of bounds. <br>
                    <code class="b">facing(direction)</code>: boolean, <code>True</code> if the platypus is facing the direction (<code>'E'</code>, <code>'S'</code>, <code>'W'</code>, or <code>'N'</code>).<br>
                    <code class="b">count(who, obj)</code>: integer, counts whether <code>who</code> (<code>'platypus'</code> or <code>'square'</code> has object (<code>'crab'</code> or <code>'egg'</code>)<br>
<br>
                </div>
                <p>
                Exercises:
                <select name="examples" id="examples" onchange="runExercise()">
                    <option value="platypus0" selected>Platypus 0</option>
                    <option value="platypus1">Platypus 1</option>
                    <option value="platypus2">Platypus 2</option>
                    <option value="platypus3">Platypus 3</option>
                    <option value="platypus4">Platypus 4</option>
                    <option value="platypus5">Platypus 5</option>
                    <option value="platypus6">Platypus 6</option>
                </select>
                <p>
                <div id="instructions"></div>
                After you finish, the platypus world should look like this:<p>
                <canvas id="solutionCanvas"></canvas>
                <span id='instructions'></span>
            </div>
            <div class='child' id='middle-panel'>
                <div id='world-numbering'>
                World number: <select id="world-selector" onchange="changeWorld()"></select>
                </div>
                The platypus is carrying <span id='numEggsAndCrabs'>0 eggs and 0 crabs</span>.
                <p>
                <canvas id="mainCanvas"></canvas>
                <br>
                <button onclick='reset_platypus()'>Reset Platypus</button><span id='correctBox' style='float: right'></span>
                <br>
                Speed: <input type="range" id="speed-slider" min="10" max="1000" value="50" onchange="updateSpeed()">
                <p>
                Terminal:<br>
                <textarea id='console-output' rows="13" cols="40" spellcheck="false">
                </textarea>

            </div>
            <div class='child' id='right-panel'>
                <button onclick="rotatePlatypus(true)">turn_right()</button>&nbsp;
                <button onclick="rotatePlatypus(false)">turn_left()</button>&nbsp;
                <button onclick="movePlatypus('w')">swim()</button>
                <button onclick="pick_up('crab')">pick_up('crab')</button>
                <button onclick="put_down('egg')">put_down('egg')</button>

                <p>
                <button onclick="run_pyodide()">Run program!</button>
                &nbsp;
                <button onclick="interruptExecution()">Stop program</button>
                <input type="checkbox" id="interactive" checked><span id="add-to-code-text">Add to code window</span>
                <div id="editor" class="editor-div">
                </div>
            </div>
            <script src="https://cdn.jsdelivr.net/pyodide/v0.23.1/full/pyodide.js"></script>
            <script type='module' src='js/site.js'></script>
            <script type='module' src="js/PlatypusWorld.js"></script>  
            <script src="js/editor.bundle.js"></script>  
    </body>
</html>
